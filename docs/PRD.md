# 독서일기 MVP PRD

## 🎯 핵심 정보

**목적**: Notion을 CMS로 활용하여 별도 관리자 패널 없이 독서노트를 웹에 자동 발행하는 개인 독서 블로그 구축
**사용자**: 독서 기록을 Notion으로 관리하고 이를 공개 웹페이지로 공유하고 싶은 1인 개발자 및 독서가

---

## 🚶 사용자 여정

```
1. 메인 페이지 (홈)
   ↓ 처음 방문 또는 직접 접속

2. 메인 페이지에서 콘텐츠 탐색
   ↓ 장르/별점 필터 적용 또는 검색어 입력

   [필터/검색 결과 있음] → 도서 카드 그리드 갱신 → 원하는 도서 카드 클릭
   [필터/검색 결과 없음] → 결과 없음 안내 문구 표시

   ↓ 도서 카드 클릭

3. 독서노트 상세 페이지
   ↓ 본문 읽기 완료

   [이전 글 버튼] → 이전 독서노트 상세 페이지
   [다음 글 버튼] → 다음 독서노트 상세 페이지
   [뒤로 가기 / 홈 링크] → 메인 페이지
```

---

## ⚡ 기능 명세

### 1. MVP 핵심 기능

| ID | 기능명 | 설명 | MVP 필수 이유 | 관련 페이지 |
|----|--------|------|---------------|------------|
| **F001** | Notion DB 연동 및 목록 조회 | Notion API로 `Status = Published` 항목만 조회하여 도서 목록 표시 | 콘텐츠 소스이자 서비스의 핵심 데이터 공급 | 메인 페이지 |
| **F002** | 도서 카드 그리드 표시 | 커버 이미지, 제목, 저자, 별점, 요약 문구를 카드 형태로 리스팅 | 방문자가 콘텐츠를 한눈에 파악하는 핵심 UI | 메인 페이지 |
| **F003** | 장르 및 별점 필터링 | Category(Multi-select) 및 Rating(Select) 기준으로 도서 목록 필터링 | 콘텐츠 탐색 효율화로 사용성 직결 | 메인 페이지 |
| **F004** | 키워드 검색 | 도서 제목 또는 저자명 기준 클라이언트 사이드 키워드 검색 | 원하는 책을 빠르게 찾기 위한 기본 탐색 수단 | 메인 페이지 |
| **F005** | 독서노트 본문 렌더링 | Notion 블록 데이터를 HTML로 변환하여 텍스트, 이미지, 코드 블록 표시 | 서비스의 핵심 가치인 독서노트 콘텐츠 전달 | 독서노트 상세 페이지 |
| **F006** | 도서 메타데이터 표시 | 제목, 저자, 카테고리, 별점, 발행일 등 도서 정보 표시 | 독서 기록의 맥락 제공 | 독서노트 상세 페이지 |
| **F007** | 이전/다음 글 네비게이션 | 발행일 기준 이전 글 및 다음 글로 이동하는 버튼 제공 | 연속적인 콘텐츠 소비 경험 지원 | 독서노트 상세 페이지 |
| **F008** | 노션 이미지 핸들링 | Notion 임시 이미지 URL 만료 문제를 해결하는 이미지 프록시 또는 캐싱 처리 | 이미지 깨짐 방지로 콘텐츠 품질 보장 | 메인 페이지, 독서노트 상세 페이지 |
| **F009** | SEO 및 OG 태그 자동 생성 | 도서별 메타 태그 및 OpenGraph 이미지/설명 자동 생성 | 검색 노출 및 SNS 공유 시 썸네일 표시 | 메인 페이지, 독서노트 상세 페이지 |

### 2. MVP 이후 기능 (제외)

- 댓글 및 방명록 기능
- 도서 추천 알고리즘
- 소셜 공유 버튼 (직접 구현)
- 다크모드 토글 (next-themes는 설치되어 있으나 MVP 범위 외)
- RSS 피드 생성
- 페이지네이션 (초기에는 전체 목록 노출)

---

## 📱 메뉴 구조

```
📚 독서일기 내비게이션
│
├── 🏠 홈 (메인 페이지)
│   ├── 기능: F001 (Notion DB 연동 및 목록 조회)
│   ├── 기능: F002 (도서 카드 그리드 표시)
│   ├── 기능: F003 (장르 및 별점 필터링)
│   ├── 기능: F004 (키워드 검색)
│   ├── 기능: F008 (노션 이미지 핸들링)
│   └── 기능: F009 (SEO 및 OG 태그 자동 생성)
│
└── 📖 독서노트 상세 (카드 클릭 시 진입)
    ├── 기능: F005 (독서노트 본문 렌더링)
    ├── 기능: F006 (도서 메타데이터 표시)
    ├── 기능: F007 (이전/다음 글 네비게이션)
    ├── 기능: F008 (노션 이미지 핸들링)
    └── 기능: F009 (SEO 및 OG 태그 자동 생성)

🔗 공통 레이아웃
├── 헤더: 사이트 로고 및 홈 링크
└── 푸터: 저작권 표기
```

---

## 📄 페이지별 상세 기능

### 메인 페이지

> **구현 기능:** `F001`, `F002`, `F003`, `F004`, `F008`, `F009` | **접근:** 공개 (인증 불필요)

| 항목 | 내용 |
|------|------|
| **역할** | 서비스 진입점으로, 발행된 모든 독서노트를 탐색하고 원하는 책을 선택하는 랜딩 페이지 |
| **진입 경로** | 브라우저 직접 접속, 헤더 로고 클릭, 독서노트 상세 페이지에서 홈 링크 클릭 |
| **사용자 행동** | Hero 섹션의 검색 바에 키워드 입력, 장르/별점 필터 탭 및 셀렉트 조작, 도서 카드 클릭으로 상세 페이지 이동 |
| **주요 기능** | • Hero 섹션: 서비스 소개 문구 및 키워드 검색 바 (F004)<br>• 필터 섹션: 장르(Category) 탭 필터 및 별점(Rating) 셀렉트 박스 (F003)<br>• 도서 카드 그리드: 커버 이미지, 제목, 저자, 별점, 요약 문구 카드 목록 표시 (F001, F002)<br>• 이미지 최적화 처리: Notion 임시 URL 만료 대응 로직 적용 (F008)<br>• 페이지 메타태그 및 OG 태그 자동 생성 (F009)<br>• **도서 카드 클릭** → 독서노트 상세 페이지 이동 |
| **다음 이동** | 도서 카드 클릭 → 독서노트 상세 페이지, 필터/검색 결과 없음 → 결과 없음 안내 문구 표시 |

---

### 독서노트 상세 페이지

> **구현 기능:** `F005`, `F006`, `F007`, `F008`, `F009` | **접근:** 공개 (인증 불필요)

| 항목 | 내용 |
|------|------|
| **역할** | 특정 도서의 독서노트 본문과 메타데이터를 표시하는 콘텐츠 상세 페이지 |
| **진입 경로** | 메인 페이지의 도서 카드 클릭, 독서노트 상세 페이지 내 이전/다음 글 버튼 클릭 |
| **사용자 행동** | 도서 메타데이터(제목, 저자, 카테고리, 별점, 발행일) 확인, Notion 본문 읽기, 이전/다음 글 버튼으로 다른 독서노트 이동, 헤더 홈 링크로 메인 페이지 복귀 |
| **주요 기능** | • 헤더 영역: 도서 제목, 저자, 카테고리 태그, 별점, 발행일 메타데이터 표시 (F006)<br>• 본문 영역: Notion 텍스트, 이미지, 코드 블록, 인용문 등 블록 타입별 렌더링 (F005)<br>• 이미지 최적화 처리: 본문 내 Notion 이미지 URL 만료 대응 로직 적용 (F008)<br>• 하단 네비게이션: 이전 글 / 다음 글 이동 버튼 (발행일 기준) (F007)<br>• 도서별 메타태그 및 OG 태그 자동 생성 (제목, 요약, 커버 이미지 활용) (F009)<br>• **홈으로 돌아가기** 링크 (헤더 또는 브레드크럼) |
| **다음 이동** | 이전 글 버튼 → 이전 독서노트 상세 페이지, 다음 글 버튼 → 다음 독서노트 상세 페이지, 홈 링크 → 메인 페이지 |

---

## 🗄️ 데이터 모델

### Book (Notion DB 매핑 모델)

> Notion 데이터베이스의 각 항목을 애플리케이션에서 사용하는 타입으로 매핑

| 필드 | 설명 | Notion 속성 타입 |
|------|------|-----------------|
| id | Notion 페이지 고유 식별자 | Page ID |
| title | 도서 제목 | Title |
| status | 발행 상태 (Draft / Reading / Published) | Select |
| categories | 장르 목록 (IT, 인문, 경제, 소설 등) | Multi-select |
| rating | 별점 (1 ~ 5) | Select |
| author | 저자명 | Text |
| coverImage | 도서 표지 이미지 URL | Files & Media |
| summary | 리스트 페이지용 요약 문구 | Text |
| publishedDate | 최종 발행일 | Date |

### NotionBlock (본문 렌더링 모델)

> Notion 페이지 본문을 구성하는 블록 단위 데이터

| 필드 | 설명 | 블록 타입 예시 |
|------|------|--------------|
| id | 블록 고유 식별자 | Block ID |
| type | 블록 유형 | paragraph / heading_1 / image / code / quote |
| content | 블록 텍스트 또는 파일 데이터 | Rich text / URL |
| children | 중첩 블록 목록 | Block[] |

---

## 🛠️ 기술 스택

### 프론트엔드 프레임워크

- **Next.js 15.5.3** (App Router + Turbopack) - ISR/SSR 기반 성능 최적화 및 SEO 강화
- **React 19.1.0** - UI 라이브러리
- **TypeScript 5** - Notion API 응답 데이터 타입 안전성 확보

### 스타일링 & UI

- **TailwindCSS v4** - 설정 파일 없는 새로운 CSS 엔진
- **shadcn/ui** - Tabs, Select, Card 등 고품질 컴포넌트 활용
- **Lucide React** - 별점, 카테고리 등 아이콘

### CMS 연동

- **Notion API** (`@notionhq/client`) - 콘텐츠 소스 및 관리자 패널 역할
- **notion-to-md** 또는 커스텀 블록 렌더러 - Notion 블록 → HTML 변환

### 배포 & 호스팅

- **Vercel** - Next.js 최적화 배포 및 ISR 자동 캐시 갱신

### 패키지 관리

- **npm** - 의존성 관리
